<!DOCTYPE html>
<html>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src = "https://www.googletagmanager.com/gtag/js?id=G-C34XCNZ9G4"></script>
        <script src = https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js type = application/javascript charset = utf-8></script>
        <script src = https://kit.fontawesome.com/1dc9aa0b49.js crossorigin = anonymous></script>
        <script src = js/main.js></script>

        <meta charset = utf-8>
        <meta name = viewport content = "width = device-width, initial-scale = 1.0">

        <link rel = stylesheet href = css/main.css>
        <title>GreyHope · Mandelbrot Visualisation · JavaScript Canvas</title>

        <script type = application/ld+json>
            {
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",

                "itemListElement": [{
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Tutorials",
                    "item": "https://greyhope.uk/tutorials.html"
                }, {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Mandelbrot Visualisation",
                    "item": "https://greyhope.uk/mandelbrot_1.html"
                }, {
                    "@type": "ListItem",
                    "position": 3,
                    "name": "JavaScript Canvas"
                }]
            }
        </script>
    </head>

    <body>
        <section class = top>
            <a href = index.html>HOME</a>
            <a href = demos.html>DEMOS</a>
            <a href = tutorials.html class = this>TUTORIALS</a>
            <a href = https://jobase.org target = _blank>JOBASE</a>
            <a href = https://www.js-bytebase.com target = _blank>JS-BYTEBASE</a>
            <a onclick = bar()><i class = "fa fa-bars"></i></a>
        </section>

        <section class = main>
            <h2>Mandelbrot Visualisation</h2>

            <a href = mandelbrot_1.html><button><i class = "fas fa-arrow-left"></i>Back</button></a>
            <a href = mandelbrot_3.html><button class = right>Next<i class = "fas fa-arrow-right"></i></button></a>

            <h3>2. JavaScript Canvas</h3>

            <p>
                On this page we will create a simple <mark>Mandelbrot Set</mark> using the <mark>JavaScript Canvas</mark>.
                This method is not the fastest, but it can zoom in a very long way.
            </p>

            <p>
                To make the <mark>Mandelbrot Set</mark> with maximum detail, we need to treat each pixel as an individual square.
                We will use the <mark>fillRect</mark> function to fill each pixel in a different colour.
                Because <mark>JavaScript</mark> can't individually fill in every pixel of the screen at once, we need to do it slowly.
                That is why we will draw the set one column at a time.
            </p>

            <p>
                The source code below draws the <mark>Mandelbrot Set</mark> starting at the left of the screen.
                It will then render each column until it gets to the right of the screen.
                As it moves along, each pixel is filled in a different colour based on its position on the set.
            </p>

            <div class = editor>
                <iframe></iframe>
                <div></div>
            </div>

            <p>
                In the code above, the <mark>loop</mark> function contains exactly the same <mark>Mandelbrot</mark> algorithm that we discussed on the previous page.
                Feel free to change the <mark>PRECISION</mark> and <mark>ZOOM</mark> values.
                The <mark>x</mark> value refers to the column being drawn.
                At the end of every loop, the <mark>x</mark> value increases for the next column.
            </p>

            <p>
                In the next example, we will let the user zoom in by clicking with the mouse.
                This means we also need a value to record our position on the set.
                Every time the user clicks, the <mark>x</mark> value will reset to <mark>0</mark> and the columns will be drawn from the left of the screen again.
            </p>

            <p>
                To add colour, we will introduce a simple algorithm.
                We will use the <mark>%</mark> operator to find the remainder of <mark>index</mark> divided by <mark>50</mark>.
                This means that the colours will form a pattern instead of getting brighter as you get nearer to the centre.
            </p>

            <p>
                In the code below, the grey lines refer to the new bits.
            </p>

            <div class = editor>
                <iframe></iframe>
                <div></div>
            </div>

            <p>
                As you become engulfed by the endless sea of paterns, you will find that there is a limit.
                This is because <mark>JavaScript</mark> runs out of decimal places.
                Although this is very frustrating, there are some ways of getting the program to zoom in forever.
                This is achieved by using <mark>JavaScript BigInt</mark> which is a whole number that can go to any size.
                In the next tutorial, we will make a program that can zoom forever.
            </p>

            <p>
                <a href = mandelbrot_1.html><button><i class = "fas fa-arrow-left"></i>Back</button></a>
                <a href = mandelbrot_3.html><button class = right>Next<i class = "fas fa-arrow-right"></i></button></a>
            </p>
        </section>

        <script>
            const editors = document.querySelectorAll(".editor")

            editor("mandelbrot", editors[0])
            editor("mandelbrot_color", editors[1], [22, 23, 41, 42, 64, 65, 66, 67, 68, 69, 70, 71, 79, 80, 81])
        </script>
    </body>
</html>