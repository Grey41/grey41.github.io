<!DOCTYPE html>
<html>
    <head>
        <meta name = viewport content = "width = device-width, initial-scale = 1">
        
        <script async src = "//www.googletagmanager.com/gtag/js?id=G-C34XCNZ9G4"></script>
        <script src = js/analytics.js></script>
        <script src = js/highlight.min.js></script>
        <script src = js/main.js></script>

        <link href = assets/fontawesome/css/fontawesome.css rel = stylesheet>
        <link href = assets/fontawesome/css/solid.css rel = stylesheet>
        <link rel = stylesheet href = main.css>

        <title>GreyHope · Tutorials · Chat App · Publishing</title>
    </head>

    <body>
        <section class = top>
            <a href = index.html>GreyHope</a>
            <i onclick = toggleBars(this) class = "fa-solid fa-bars"></i>
            <i onclick = toggleTheme(this) class = theme></i>
            <a href = index.html>Projects</a>
            <a href = demos.html>Demos</a>
            <a href = tutorials.html class = this>Tutorials</a>
        </section>

        <section class = main>
            <h2>Chat App</h2>
            
            <div class = buttons>
                <a href = chat_4.html class = left><i class = "fa-solid fa-arrow-left"></i>Back</a>
                <a href = assets/zip/chat_5.zip class = left download><i class = "fa-solid fa-download"></i>Download</a>
                <a href = tutorials.html class = right>Next<i class = "fa-solid fa-arrow-right"></i></a>
            </div>

            <h3>5. Publishing</h3>

            <p>
                This page will explain how to publish your app with <mark>Heroku</mark>.
                <mark>Heroku</mark> is a user friendly platform for online applications.
                Although some <mark>Heroku</mark> packages are paid for, you can host up to five applications for free.
                The main downside with the free package is that the server goes to sleep after <mark>30</mark> minutes of inactivity.
                When the server is asleep and a client visits the site, it takes a while for the page to load.
            </p>

            <p>
                All <mark>Heroku</mark> applications need to be <mark>Git</mark> repositories.
                Visit <a href = https://git-scm.com target = _blank>git-scm.com</a> and install the latest version of <mark>Git</mark> for your computer.
            </p>

            <p>
                Now visit <a href = https://heroku.com target = _blank>heroku.com</a> and sign up.
                Go to the <a href = https://devcenter.heroku.com target = _blank>devcenter</a> and click on the <mark>Node.js</mark> button.
                Click the <mark>Get started with Node.js</mark> button and then <mark>I'm ready to start</mark>.
                Install <mark>Heroku</mark> by following the instructions on the <mark>Set up</mark> page.
            </p>

            <p>
                Before we deploy our app, we need to write one last bit of code in the <mark>server.js</mark> file.
            </p>

            <script type = javascript>
                        io.emit("input", data)
                    })
                })
                
                server.listen(‡process.env.PORT || ‡5000, () => console.log("Server listening..."))
            </script>

            <p>
                The code above tells the server to look for the <mark>Heroku</mark> port instead of running on <mark>localhost:5000</mark>.
                If it can't find the port, it will run on <mark>localhost:5000</mark>.
            </p>

            <p>
                We don't want to upload the whole <mark>node_modules</mark> folder to <mark>Heroku</mark> so we need to add a new file that tells <mark>Git</mark> what to ignore.
                Add a new file to your <mark>chat-app</mark> folder named <mark>.gitignore</mark>.
                Open it and write the following code.
            </p>

            <script type = sh>‡/node_modules‡</script>

            <p>
                Go to the <mark>Command Terminal</mark> and type <mark>cd</mark> followed by the path to your <mark>chat-app</mark> folder.
            </p>

            <script type = sh>‡cd path/to/chat-app‡</script>

            <p>
                Type the following into the terminal.
            </p>

            <script type = sh>‡git init‡</script>

            <p>
                If you go to your <mark>chat-app</mark> folder and veiw the hidden files, you will have a new folder called <mark>.git</mark>.
                Write the following command in the terminal.
            </p>

            <script type = sh>‡git add .‡</script>

            <p>
                Then commit your new repository.
            </p>

            <script type = sh>‡git commit -m "First Release"‡</script>

            <p>
                Repository complete.
            </p>

            <p>
                Now we can deploy our application to <mark>Heroku</mark>.
                In the terminal, type the following.
            </p>

            <script type = sh>‡heroku login‡</script>

            <p>
                It will then ask you to press any key.
                Once you've done that, <mark>Heroku</mark> will open a new browser tab.
                Click <mark>Login</mark> and close the tab.
                Now type the following.
            </p>

            <script type = sh>‡heroku create‡</script>

            <p>
                <mark>Heroku</mark> will then think of a random name for your app.
                If this troubles you, you can change it later.
                Finally, type the following command.
            </p>

            <script type = sh>‡git push heroku main‡</script>

            <p>
                If you have an error, you may want to type <mark>git checkout -b main</mark> in the terminal and then try again.
                Now type the following to open your application.
            </p>

            <script type = sh>‡heroku open‡</script>

            <p>
                You should then be taken to your application online.
                If you get your friends to visit your application, you will be able to chat to each other!
                Well done! You have completed the whole tutorial.
            </p>

            <p>
                If you want to rename your app, type the following.
            </p>

            <script type = sh>‡heroku apps:rename [new name]‡</script>

            <p>
                This tutorial was meant for an introduction.
                Feel free to take this further and build your own applications that are even better.
                You can view the finished chat application at <a href = http://greyhope-chat.herokuapp.com target = _blank>greyhope-chat.herokuapp.com</a>.
            </p>

            <div class = buttons>
                <a href = chat_4.html class = left><i class = "fa-solid fa-arrow-left"></i>Back</a>
                <a href = tutorials.html class = right>Next<i class = "fa-solid fa-arrow-right"></i></a>
            </div>
        </section>
    </body>
</html>