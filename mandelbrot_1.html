<!DOCTYPE html>
<html>
    <head>
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src = "https://www.googletagmanager.com/gtag/js?id=G-C34XCNZ9G4"></script>
        <script src = https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.js type = application/javascript charset = utf-8></script>
        <script src = https://kit.fontawesome.com/1dc9aa0b49.js crossorigin = anonymous></script>
        <script src = js/main.js></script>

        <meta charset = utf-8>
        <meta name = viewport content = "width = device-width, initial-scale = 1.0">

        <link rel = stylesheet href = css/main.css>
        <title>GreyHope · Mandelbrot Visualisation · The Formula</title>

        <script type = application/ld+json>
            {
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",

                "itemListElement": [{
                    "@type": "ListItem",
                    "position": 1,
                    "name": "Tutorials",
                    "item": "https://greyhope.uk/tutorials.html"
                }, {
                    "@type": "ListItem",
                    "position": 2,
                    "name": "Mandelbrot Visualisation",
                    "item": "https://greyhope.uk/mandelbrot_1.html"
                }, {
                    "@type": "ListItem",
                    "position": 3,
                    "name": "The Formula"
                }]
            }
        </script>
    </head>

    <body>
        <section class = top>
            <a href = index.html>HOME</a>
            <a href = demos.html>DEMOS</a>
            <a href = tutorials.html class = this>TUTORIALS</a>
            <a href = https://jobase.org target = _blank>JOBASE</a>
            <a href = https://www.js-bytebase.com target = _blank>JS-BYTEBASE</a>
            <a onclick = bar()><i class = "fa fa-bars"></i></a>
        </section>

        <section class = main>
            <h2>Mandelbrot Visualisation</h2>

            <a href = tutorials.html><button><i class = "fas fa-arrow-left"></i>Back</button></a>
            <a href = mandelbrot_2.html><button class = right>Next<i class = "fas fa-arrow-right"></i></button></a>

            <h3>1. The Formula</h3>

            <p>
                This tutorial will start by explaining how the <mark>Mandelbrot Set</mark> is calculated.
                On future pages, we will look at some <mark>JavaScript</mark> examples.
            </p>

            <p>
                The <mark>Mandelbrot Set</mark> is made with a grid of squares.
                Each square is shaded based on its position on the grid.
                In the example below, the red lines refer to the horizontal and vertical axis of the grid.
            </p>

            <iframe class = frame></iframe>

            <p>
                You will notice that this set doesn't have any colours.
                This is because the <mark>Mandelbrot</mark> formula only returns a single value.
                The colours of the set are made using an extra formula which we will cover later.
            </p>

            <p>
                Now we are going to focus on a single square.
                First we use its original position to generate a new position.
                Then we continue to generate new positions until one falls outside the grid.
                The shade of our square will be determined by the amount of positions we generated.
                The example below illustrates how each square is shaded based on the generated positions.
            </p>

            <iframe class = frame></iframe>
            
            <p>
                In the example, the maximum amount of iterations is set to <mark>10</mark>.
                This means that near the centre of the grid, the square gives up after <mark>10</mark> calculations.
            </p>

            <p>
                Now we will focus on the actual calculations.
                Let's use a square with the coordinates <mark>(0.6, 0.4)</mark>.
            </p>

            <pre>original_x = 0.6<br>original_y = 0.4</pre>

            <p>
                Now we make a new copy of these positions.
            </p>

            <pre>copy_x = original_x<br>copy_y = original_y</pre>

            <p>
                Then we will execute a calculation on the copies to create a new position.
            </p>

            <pre>set_x = copy_x&#178; - copy_y&#178;<br>set_y = 2 &#215; copy_x &#215; copy_y<br>copy_x = set_x + original_x<br>copy_y = set_y + original_y</pre>

            <p>
                After performing the calculations above, <mark>copy_x</mark> will equal <mark>0.8</mark> and <mark>copy_y</mark> will equal <mark>0.88</mark>.
                These are our new coordinates.
                We keep repeating the code above until the coordinates go out of bounds.
            </p>

            <p>
                The following <mark>JavaScript</mark> code snippet will show you the full algorithm.
            </p>

            <div class = snippet></div>

            <p>
                After running the code above, the <mark>index</mark> value will determine the shade of our square.
                It should be a value between <mark>0</mark> and <mark>10</mark>.
                In this case, <mark>index</mark> will be equal to <mark>2</mark>.
                If we use different coordinates for our square, the <mark>index</mark> value will be different.
            </p>

            <p>
                Surprisingly, that is all there is to the <mark>Mandelbrot Set</mark>.
                By applying the code above to each square, you will get incredible patterns.
                To get the <mark>RGB</mark> colour of each square, use the formula below.
                It will return colour values between <mark>0</mark> and <mark>255</mark>.
            </p>

            <pre>rgb = (index &#215; 25.5, index &#215; 25.5, index &#215; 25.5)</pre>

            <p>
                Some of you may be unable to grasp why the code for the <mark>Mandelbrot Set</mark> is so small.
                You may also be wondering why we never talked about imaginary numbers which are part of the <mark>Mandelbrot Formula</mark>.
                Because we are dealing with code, we don't need to use imaginary numbers.
                Imaginary numbers are useful when dealing with the theory behind the maths.
                If you are more interested in the maths, then feel free to do your own research.
            </p>

            <p>
                In the next lesson, we will build our first <mark>Mandelbrot Set</mark> in <mark>JavaScript</mark>.
            </p>

            <p>
                <a href = tutorials.html><button><i class = "fas fa-arrow-left"></i>Back</button></a>
                <a href = mandelbrot_2.html><button class = right>Next<i class = "fas fa-arrow-right"></i></button></a>
            </p>
        </section>

        <script>
            const frames = document.querySelectorAll(".frame")

            frame("mandelbrot_axis", frames[0])
            frame("mandelbrot_calculate", frames[1])
            snippet("mandelbrot", document.querySelector(".snippet"), 1)
        </script>
    </body>
</html>